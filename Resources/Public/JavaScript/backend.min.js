
(function(a){a(function(){var i="selected";var s="de"+i;var q="device";var c="orientation";var v="n1deviceList";var j="#"+v;var g=a(j).attr("data-uid");var p=a(j).attr("data-extkey");var h=j+" .device";var u='input[name*="data[tt_content]['+g+"]["+p+'_device]"]';var t="data[tt_content]["+g+"]["+p+"_device]";var n="";var k=h+" .orientations";var m=k+" .orientation";var e='input[name*="data[tt_content]['+g+"]["+p+'_orientation]"]';a(document).ready(function(){r(u,h,q);r(e,m,c);a(h).click(function(w){o(a(this))});a(m).click(function(w){w.stopPropagation();d(a(this))})});function r(z,y,w){var x=a(z).val();a(y).each(function(){if(x.toLowerCase().indexOf(a(this).attr("data-"+w))>-1){a(this).addClass(i)}else{a(this).addClass(s)}})}function d(y){var x=y.parents("."+q).attr("data-"+q);console.log(x);var w=a("."+q+"."+x+" ."+c);if(y.hasClass(s)){if(w.not(y).hasClass(i)){w.each(function(){a(this).removeClass(s).removeClass(i).addClass(s)})}else{y.removeClass(s).addClass(i)}}else{y.removeClass(i).addClass(s)}l()}function o(z){if(z.hasClass(s)){z.removeClass(s).addClass(i)}else{z.removeClass(i).addClass(s)}a(k).fadeOut(250);var w=0;var y=125;a(h).each(function(){a(this).delay(w*y).animate({maxHeight:0},y);w++});b(function(){w=0;a(h).each(function(){a(this).delay(w*y).animate({maxHeight:"100%"},y);w++});n="";var A=false;var x=false;a(h).each(function(){if(a(this).hasClass(i)){if(a(this).hasClass("tablet")){A=true}if(a(this).hasClass("mobile")){x=true}if(n.length>0){n=n.concat(" ")}n=n.concat(a(this).attr("data-device"));console.log(n)}});if(A){a(h+".tablet .orientations").fadeIn(250)}if(x){a(h+".mobile .orientations").fadeIn(250)}f(n);l()},a(h).length*y,1)}function f(w){a(u).val(w);a('input[data-formengine-input-name="data[tt_content]['+g+'][tx_njpage_device]"]').val(w)}function l(){var w="";a(h+"."+i).each(function(){a(this).find("[data-"+c+"]."+i).each(function(){if(w.length>0){w=w.concat(" ")}console.log("data-"+c);w=w.concat(a(this).attr("data-"+c))})});a(e).val(w);a('input[data-formengine-input-name="data[tt_content]['+g+'][tx_njpage_orientation]"]').val(w)}function b(x,y,z){var w=function(A,B){return function(){if(typeof B==="undefined"||B-->0){setTimeout(w,A);try{x.call(null)}catch(C){B=0;throw C.toString()}}}}(y,z);setTimeout(w,y)}})})(TYPO3.jQuery);function n1getSelectedItems(a){$items="";$(a+".selected").each(function(){$items=$items+$(this).attr("name")+" "});return $items};